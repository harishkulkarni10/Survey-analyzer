================================================================================
                    SURVEY ANALYZER - PROCESS FLOW DOCUMENTATION
================================================================================

1. DATA FLOW
================================================================================

INPUT â†’ PROCESSING â†’ AI ANALYSIS â†’ OUTPUT

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Input Data  â”‚  CSV/Excel/PDF file OR dummy sample data
â”‚ (150 rows)  â”‚  Contains: satisfaction, quality, service, value, NPS, etc.
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DataLoader       â”‚  Loads file â†’ Converts to pandas DataFrame
â”‚ (data_loader.py) â”‚  Auto-detects format (CSV/Excel/PDF)
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ StatisticsCalc   â”‚  Calculates: averages, NPS, percentiles, segments
â”‚ (statistics.py)  â”‚  Output: Dictionary with 20+ metrics
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VisualizationGen â”‚  Creates 8 charts (histograms, bar charts, pie, heatmap)
â”‚ (visualizations) â”‚  Saves as PNG image
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Gemini AI API    â”‚  4 API calls:
â”‚ (llm_providers)  â”‚  1. Executive Summary
â”‚                  â”‚  2. Trend Analysis
â”‚                  â”‚  3. Strategic Recommendations
â”‚                  â”‚  4. Output Explanation
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ReportGenerator  â”‚  Combines stats + AI insights â†’ Text report
â”‚ (report_gen)     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Output Folder    â”‚  Timestamped folder with 7 files:
â”‚ (outputs/)       â”‚  â€¢ survey_report.txt (with AI insights)
â”‚                  â”‚  â€¢ output_explanation.txt (AI-written)
â”‚                  â”‚  â€¢ survey_visualizations.png (8 charts)
â”‚                  â”‚  â€¢ age_group_analysis.csv
â”‚                  â”‚  â€¢ regional_analysis.csv
â”‚                  â”‚  â€¢ survey_raw_data.csv
â”‚                  â”‚  â€¢ statistics.json
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


2. TECHNICAL FLOW
================================================================================

EXECUTION STEPS (main.py â†’ analyzer.py):

Step 1: INITIALIZATION
  â”œâ”€ Check packages (pandas, numpy, matplotlib, seaborn, google-generativeai)
  â”œâ”€ Check Gemini API key (from api_key.py)
  â”œâ”€ Create timestamped output folder
  â””â”€ Initialize SurveyAnalyzer class

Step 2: DATA LOADING
  â”œâ”€ If file path provided â†’ Load from CSV/Excel/PDF
  â”œâ”€ If no file â†’ Generate 150 dummy responses
  â””â”€ Convert to pandas DataFrame

Step 3: STATISTICAL CALCULATION
  â”œâ”€ Calculate averages (satisfaction, quality, service, value)
  â”œâ”€ Calculate NPS (Net Promoter Score)
  â”œâ”€ Calculate percentiles (25th, median, 75th)
  â”œâ”€ Segment analysis (by age group, region)
  â””â”€ Sentiment analysis (positive/neutral/negative from feedback text)

Step 4: VISUALIZATION GENERATION
  â”œâ”€ Create 8 charts using matplotlib/seaborn:
  â”‚   â”œâ”€ Satisfaction distribution (histogram)
  â”‚   â”œâ”€ Metrics comparison (bar chart)
  â”‚   â”œâ”€ NPS distribution (pie chart)
  â”‚   â”œâ”€ Regional analysis (bar chart)
  â”‚   â”œâ”€ Age group analysis (grouped bar)
  â”‚   â”œâ”€ Recommendation distribution (histogram)
  â”‚   â”œâ”€ Time series trend (line chart)
  â”‚   â””â”€ Metric correlations (heatmap)
  â””â”€ Save as single PNG file

Step 5: AI REPORT GENERATION
  â”œâ”€ Build report structure (KPIs, segments, data quality)
  â”œâ”€ Call Gemini API 3 times:
  â”‚   â”œâ”€ Get executive summary
  â”‚   â”œâ”€ Get trend analysis
  â”‚   â””â”€ Get strategic recommendations
  â”œâ”€ Insert AI insights into report
  â””â”€ Save as survey_report.txt

Step 6: DATA EXPORT
  â”œâ”€ Export age group analysis â†’ CSV
  â”œâ”€ Export regional analysis â†’ CSV
  â”œâ”€ Export raw data â†’ CSV
  â””â”€ Export statistics â†’ JSON

Step 7: OUTPUT EXPLANATION
  â”œâ”€ Build comprehensive prompt with all output file details
  â”œâ”€ Call Gemini API (4th call)
  â”œâ”€ Get AI explanation of all files
  â””â”€ Save as output_explanation.txt


3. PROCESS FLOW (Business Perspective)
================================================================================

USER ACTION â†’ SYSTEM PROCESS â†’ BUSINESS OUTPUT

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ USER RUNS: python main.py survey_data.csv                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SYSTEM: Loads survey data (150 customer responses)              â”‚
â”‚         Calculates metrics (NPS, satisfaction, etc.)            â”‚
â”‚         Creates visual charts                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AI PROCESS: Gemini analyzes the numbers                         â”‚
â”‚              Generates insights in plain English                â”‚
â”‚              Provides actionable recommendations                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BUSINESS OUTPUT:                                                â”‚
â”‚                                                                  â”‚
â”‚  ğŸ“Š Report with AI insights â†’ "What the data means"             â”‚
â”‚  ğŸ“ˆ Visual dashboard â†’ "See patterns at a glance"               â”‚
â”‚  ğŸ“‹ Data files â†’ "Detailed breakdowns"                          â”‚
â”‚  ğŸ“ Explanation â†’ "AI explains everything in business terms"    â”‚
â”‚                                                                  â”‚
â”‚  All saved in: outputs/analysis_YYYYMMDD_HHMMSS/               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


4. KEY COMPONENTS
================================================================================

MODULE                    PURPOSE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
main.py                   Entry point - orchestrates everything
analyzer.py               Main class - coordinates all modules
data_loader.py            Loads CSV/Excel/PDF or generates dummy data
statistics.py             Calculates all metrics (NPS, averages, etc.)
visualizations.py         Creates 8-chart dashboard
report_generator.py       Builds report + calls Gemini for insights
llm_providers.py          Connects to Gemini API
config.py                 Settings (output paths, API key loading)


5. AI INTEGRATION POINTS
================================================================================

GEMINI API CALLS (4 total per run):

1. Executive Summary
   Input:  Survey metrics (NPS, satisfaction, regions, etc.)
   Output: 4-5 sentence business summary

2. Trend Analysis
   Input:  Detailed metrics with standard deviations
   Output: 5-6 critical trends with explanations

3. Strategic Recommendations
   Input:  Performance gaps and NPS breakdown
   Output: 6-8 actionable recommendations (immediate/short-term/long-term)

4. Output Explanation
   Input:  List of all generated files + chart descriptions
   Output: Comprehensive business-friendly explanation of all outputs


6. DATA TRANSFORMATIONS
================================================================================

RAW DATA (CSV/Excel/PDF)
    â†“
PANDAS DATAFRAME (structured data)
    â†“
STATISTICAL METRICS (dictionary with 20+ calculated values)
    â†“
VISUAL CHARTS (8 PNG charts)
    â†“
AI INSIGHTS (4 Gemini API responses)
    â†“
FINAL OUTPUTS (7 files in timestamped folder)


================================================================================
END OF DOCUMENT
================================================================================
